# C结构体

结构是C编程中一种用户可自定义的可用的数据类型，允许用户存储不同类型的数据项。结构类似与java的对象，用来存放一个对象的一系列属性。

## 定义结构

```c
struct tag {
  member-list;
  member-list;
  ...
} variable-list;
```

tag是结构体标签；member-list是标准的变量定义，如`int i;`;varable-list结构变量，定义在结构的末尾，可以指定一个或多个结构变量。在一般情况下，tag，member-list，varable-list这3部分至少要出现2个。

```c
struct Books
{
  char title[50];
  char author[50];
  char subject[100];
  int book_id;
} book;
```

结构体的成员可以包含其他结构体，也可以包含指向自己结构体类型的指针，通常这种指针的应用是为了实现一些更高级的数据结构如链表和树等。

```C
//此结构体的声明包含了其他的结构体
struct COMPLEX
{
  char string[100];
  struct SIMPLE a;

};
 
//此结构体的声明包含了指向自己类型的指针
struct NODE
{
  char string[100];
  struct NODE *next_node;
};
```

如果两个结构体互相包含，需要对其中一个结构体进行不完整声明。不然声明第一个结构体的时候，依赖的另一个结构体还没有声明。

```c
struct B;    //对结构体B进行不完整声明
 
//结构体A中包含指向结构体B的指针
struct A
{
  struct B *partner;
  //other members;

};
 
//结构体B中包含指向结构体A的指针，在A声明完后，B也随之进行声明
struct B
{
  struct A *partner;
  //other members;
};
```

## 结构体变量的初始化

结构体变量可以在定义的时候赋初值。

```c
#include <stdio.h>
 
struct Books
{
  char  title[50];
  char  author[50];
  char  subject[100];
  int   book_id;
} book = {"C 语言", "RUNOOB", "编程语言", 123456};
 
int main()
{
  printf("title : %s\nauthor: %s\nsubject: %s\nbook_id: %d\n", book.title, book.author, book.subject, book.book_id);
}
```

## 访问结构成员

可以使用成员访问运算符`.`来访问结构的成员。

## 结构作为函数参数

结构作为函数参数时，传参方式与其他类型的变量或指针类似。

## 指向结构的指针

可以定义指向结构的指针，方式与定义其他类型变量的指针类似。

```c
struct Books *struct_pointer = &Book1;
```

使用指向结构的指针访问机构的成员，需要使用`->`运算符。

```c
struct_pointer -> title;
```
