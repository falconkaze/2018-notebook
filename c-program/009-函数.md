# C函数

函数声明告诉编译器函数的名字，返回类型和参数。函数定义提供了函数的实际主体。

当程序调用函数时，程序控制权会转移给被调用的函数。被调用的函数执行已定义的任务，当函数的返回语句被执行或到达函数的结束括号时，会把程序控制权交还给主程序。

函数的其他叫法：方法，子例程或程序。

## 函数声明

```c
return_type function_name (parameter list);
```

在函数声明中，参数的名称不重要，参数的类型是必须的。当需要调用其他文件中的函数时，必须在本文件中声明这个函数。

```
int max(int, int);
```

## 定义函数

```c
return_type function_name (parameter list){
  body of the function
}
```

* 返回类型：一个函数可以返回一个值，如果不返回值的话设为void
* 函数名称：函数名和参数列表一起构成了函数签名（决定函数是否相同）
* 参数列表：参数列表包括函数参数的类型，顺序和数量。参数列表是可选的
* 函数主体：需要完成功能的语句

## 函数参数

如果函数要使用参数，则必须声明接受参数值的变量，这些变量称为函数的形式参数。形式函数就像函数内的局部变量，在进入函数时被创建，退出函数时被销毁。

调用函数时，有两种向函数传递参数的方式。
  - 传值调用 把参数的实际值复制给函数的形式参数。这种情况下，修改函数内的形式参数不会影响实际参数。
  - 引用调用 也叫传址调用，通过指针传递方式，形参为指向实参地址的指针，对形参操作，就相当于对实参本身操作。

默认情况下，C使用传值调用来传递参数。

## 其他

#### 内联函数

内联函数是指用`inline`关键字修饰的函数。在类内定义的函数被默认为内联函数。内敛函数从源代码层看，有函数的结构，但是在编译后，却不具有函数的性质。

内敛扩展是用来消除函数调用时的时间开销，通常用于频繁执行的函数，对于小内存空间的函数非常有益。

使用内联函数时要注意：
  - 递归函数不能定义为内联函数
  - 内联函数一般只适用于不存在while和switch等复杂的结构且只有1~5条语句的小函数上，否则编译系统会将该函数视为普通函数
  - 内联函数只能先定义后使用，否则编译锡系统也会把它认为是普通函数
  - 对内联函数不能进行异常的接口声明

  ```
  inline void swap(int *a, int *b){
    int t = *a;
    *a = *b;
    *b = t;
  }
  ```

#### 关于main函数的参数

main函数有两种写法，一种无参`int main(){}`，一种有参`int main(int argc, char* argv[]){}`，如果有参的话必须是后一种形式，参数名字可以自己定义，argc表示参数的个数，argv表示字符串数组，默认argv[0]表示程序路径（也就是说argc在没有命令行参数时为1）。有参main函数主要用于终端启动时传递参数。多个命令行参数之间用空格分割，但是如果参数本身就带有空格，需要把它们放在双引号或单引号内。
