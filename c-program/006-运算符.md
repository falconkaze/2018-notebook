# C语言运算符

1. 算术运算符

  `+ - * / % ++ --`

  C语言的取余运算只能针对整数，也就是说，两个操作数都是整数。另外余数可能是正数也可能是负数，取决于左操作数的正负。

  C语言的除法不是向上取整或向下取整，无论操作数是正是负，总是把小数部分截掉，在数轴上向零的方向取整。

  `a++`和`++a`的区别：a++先赋值再运算，++a先运算再赋值。

  ```c
  #include <stdio.h>

  int main(){
    int c, d;
    int a = 10;
    int b = 10;
    c = a++;
    printf("c:%d, a:%d\n", c, a);
    d = ++b;
    printf("d:%d, b:%d\n", d, b);
    return 0;
  }
  ```

2. 关系运算符

  `== != > < >= <=`

3. 逻辑运算符
  
  `&& || !`

4. 位运算符

  `&`按位与，`|`按位或，`^`异或（不同为1，相同为0），`~`取反，`<<`左移运算符，`>>`右移运算符。

  左移运算符，将运算数的各个二进制数全部左移若干位（左边的二进制位丢弃，右边补0），右移运算符，将一个数的各个二进制位全部右移若干位，整数左补0，负数左补1，右边丢弃。

  `&`和`|`也可用于逻辑运算，但是会运算两边，而`&&`和`||`可能只算一边，这一点与java类似。

  不同长度的数据进行位运算。不同的长度的数据进行位运算，系统会将两者按右端对齐，然后进行位运算。如果long数据和int数据进行位与运算，右端补齐后，左端不足的位按照下面三种情况补足：
  - 如果为正数，左边补16个0
  - 如果为负数，左边补16个1
  - 如果为无符号数，左边补16个0

  实例：注意，第一行需要指明2为long型，因为整数的默认类型是int，左移31位会超出int的范围（指明31为long型不行）。

  ```c
  long a_long = (2L << 31) -1;
  int a_int = 1;
  printf("a_long:%o\n",a_long);
  printf("a_long & a_int:%o\n", a_long & a_int);
  a_int = -1;
  printf("a_long & a_int:%o\n", a_long & a_int);
  unsigned int a_unsigned = 1;
  printf("a_long & a_unsigned:%o\n", a_long & a_unsigned);
  ```

5. 赋值运算符

  `= += -= *= /= %= <<= >>= &= ^= |=`

6. 杂项运算符
  
  - sizeof() 返回变量的大小 `size(a)`
  - & 返回变量的地址  `&a`
  - * 指向一个变量，也就是指针，存放内存地址 `*a`
  - ?:条件表达式 f = a == b ? c : d;

#### 运算符优先级

  | 类别   | 运算符                                | 结合性                         |
  | ---    | ---                                   | ---                            |
  | 后缀   | () [] -> . ++ --                      | 从左到右                       |
  | 一元   | + - ! ~ ++ - - (type)* & sizeof        | 从右到左                       |
  | 乘除   | * / %                                 | 从左到右                       |
  | 加减   | + -                                   | 从左到右                       |
  | 移位   | << >>                                 | 从左到右                       |
  | 关系   | < <= > >=                             | 从左到右                       |
  | 相等   | == !=                                 | 从左到右                       |
  | 位与   | AND &                                 | 从左到右                       |
  | 位异或 | XOR ^                                 | 从左到右                       |
  | 位或   | OR \|                                 | 从左到右                       |
  | 逻辑与 | AND &&                                | 从左到右                       |
  | 逻辑或 | OR \|\|                               | 从左到右                       |
  | 条件   | ?:                                    | 从右到左                       |
  | 赋值   | = += -= *= /= %= >>= <<= &= ^= \|=     | 从右到左                       |
  | 逗号   | ,                                     | 从左到右                       |

