# C语言数组

数组可以存储一个固定大小的相同类型元素的顺序集合。数组的中的特定元素可以通过索引访问。所有的数组是由连续的内存地址组成。最低的地址对应第一个元素，最高的地址对应最后一个元素。

## 声明数组

```c
type arrayName [arraySize];  // 一维数组
```

arrayName必须是大于0整型常量。type可以是任何有效的C数据类型。

## 初始化数组

```c
double balance[5] = {1.1, 1.2, 1.3, 1.4, 1.5};
```

大括号内的元素数目不能大于数组声明的大小。如果省略掉数组大小，那么数组大小默认为初始化时元素的个数。数组初始化可以部分赋值，当`{}`中值的个数小于数组大小时，只给前面的部分元素赋值。

## 多维数组

* 数组声明

```c
type name[size1][size2]...[sizeN];
```

二维数组`arrayName[x][y]`可以看做是x行y列的表格。二位数组在逻辑上是方阵，由行列组成，但是在物理上式线性的，按行来依次进行存放，内存上是连续的。二维数组的步长是一行的长度（注意数据类型的大小）。

* 数组初始化

```c
int a[3][4] = {
  {0, 1, 2, 3},
  {4, 5, 6, 7},
  {8, 9, 0, 10}
};
```

* 访问数组元素

```
arrayName[1][2] = 5;
```

## 传递数组给函数

传递一维数组有下面三种方式，这三种声明方式的本质是一样的，都是告诉编译器要接受一个整型指针。

- 形式参数是一个指针

```c
void function(int *param){
}
```

- 形式参数是一个已定义大小的数组

```c
void function(int param[10]){

}
```

- 形式参数是一个未定义大小的数组

```c
void function(int param[]){

}
```

## 从函数返回数组

C语言不允许返回一个完整的数组作为函数的参数，但是，可以通过指定不带索引的数组名来返回一个指向数组的指针。C语言不支持在函数外返回局部变量的地址，除非定义局部变量为static变量。

```
int * function(){}
```

## 指向数组的指针

数组名是一个指向数组中第一个元素的常量指针，所以不能被赋值。和指针区别，指针是一个变量，可以进行数值运算。数组名不是变量，不可以进行数值运算。

```
double balance[50];
double *p = balance;
```

把数组名作为常量指针是合法的，反之亦然。****(balance + 4)可以访问balance[4]，它代表后者的地址（数组地址是连续的）。

## 其他

可以使用`sizeof(a)`获取数组元素的个数，使用`sizeof(a[0])`获取数字单个元素的大小。
