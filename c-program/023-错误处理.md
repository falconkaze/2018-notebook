# C错误处理

C语言不提供对错误处理的直接支持，但是作为一宗系统编程语言，它以返回值的形式允许用户访问底层数据。在发生数据的时候，大多数的C或UNIX函数调用返回一个1或NULL，同时会设置一个错误代码errno，该错误代码是全局变量，表示在函数调用期间发生了错误。可以在errno.h头文件中找到各种各样的错误代码。

所以C程序员可以通过检查返回值，然后根据返回值决定采取哪种合适的动作。开发人员应该在程序初始化时，把errno设置为0，这是一种良好的编程习惯。0值表示程序中没有错误。

## errno、perror()和strerror()

C语言提供了perror()和strerro()函数来显示与errno相关的文本信息。
  - perror()函数显示传给它的字符串，后跟一个冒号，一个空格和当前errno值的文本表示形式。
  - strerror()函数，返回一个指针，指针指向当前errno值的文本表示形式。

## 程序退出状态

通常情况下，程序成功执行完一个操作正常退出的时候会带有值`EXIT_SUCCESS`。在这里，`EXIT_SUCCESS`是宏，被定义为0。如果程序中存在一种错误情况，当退出程序时，会带有状态值`EXIT_FAILURE`，被定义为-1。
