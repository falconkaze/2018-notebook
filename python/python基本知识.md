# python3基本知识

## 寻求帮助

* 使用内置的help函数。例如：```help('len')```

## 规范

* 命名规则：文件名和文件夹名，小写加下划线。

* python代码区分大小写。

* 变量名必须是大小写英文、数字和"_"的组合，不能用数字开头

* python保留字

  ```python
  import keyword;
  keyword.kwlist;
  ```

* 注释

  单行注释以 # 开头，多行注释可以用'''和"""。
  >代码会告诉你怎么做，注释会告诉你为什么这么做。

  ```python
  # 第一个注释
  # 第二个注释
   
  '''
  第三注释
  第四注释
  '''
   
  """
  第五注释
  第六注释
  """
  ```

  
## python命令
```shell
python -c command [args]
python -m module [args]
```
## python代码运行
* python两种模式：命令行模式，python交互模式。在命令行下输入python回车，就能进入交互模式，退出命令为exit()或Ctrl+d。交互模式会把每一行python代码的结果打印出来（不需要print），多用于调试代码或者学习语法命令等。
* python代码有两种运行方式：
```
$ python file_name	这种方式不需要在文件第一行指定解释器（也就是python）
$ chmod a+x file_name	这种方式需要在文件第一行指定解释器（#!/usr/bin/env python3），然后运行./file_name
```
这里文件名后缀不是必要的，linux中的文本后缀是为了方便人们使用，对于程序来说没用。
* python中的双引号和单引号都可以用于表示字符串。
* python中指定编码的方式：
```
# coding:utf-8 或者
# -*- coding:utf-8 -*-
```
## python语法
* 以#开头的语句是注释；

* 当语句以冒号结尾的时候，缩进的语句被视为代码块，同一个代码块的语句必须包含相同的缩进空格数。  

  缩进的好处，强迫程序员写出格式化的代码，没有规定缩进是几个空格还是tab。按照约定俗成的管理，应该始终坚持使用4个空格的缩进（在文本编辑器中可以把tab自动转换为4个空格，确保不混用tab和空格）。缩进的另一个好处就是强迫我们写出缩进较少的代码，我们会倾向于把一段很长的代码拆分成若干函数，从而得到缩进较少的代码，提高代码的可读性。  

  缩进的坏处就是“复制-粘贴”功能失效了，当重构代码的时候，粘贴过去的代码必须重新检查缩进是否正确。此外，IDE很难像格式化java代码那样格式化python代码。

* 多行语句

  python通常是一行写完一条语句，但如果语句很长，可以用反斜杠来实现多行语句，在[]，{}，或()中的多行语句不需要使用反斜杠。例如：

  ```python
  total = item_one + \
          item_two + \
          item_three
  total = ['item_one', 'item_two', 'item_three',
          'item_four', 'item_five']
  ```

* 空行

  函数之间或类的方法之间用空行隔开，表示一段新的代码的开始。类和函数入口之间也用一行空行分割，以突出函数入口的开始。

  空行与代码缩进不同，空行不是python语法的一部分，不是强制的。但是空行的作用在于分隔两段不同功能的或含义的代码，便于日后代码的维护或重构
## 数据类型
python中的变量不需要声明。在python中，变量就是变量，它没有类型。我们所说的类型是指变量所指内存中对象的类型。

1. 多个变量赋值

   ```python
   a = b = c = 1
   a, b, c = 1, 2, "runoob"
   ```

2. 删除对象

   ```python
   del var1[,var2[,var3[....,varN]]]
   del var
   del var_a, var_b
   ```
   

python3中有六个标准的数据类型：Number（数字）、String（字符串）、Tuple（元组）、Sets（集合）、List（列表）、Dictionary（字典）。

* 不可变数据：Number、String、Tuple、Sets
* 可变数据：List、Dictionary

#### 数字类型

1. int（整数），python中只有一种整数类型，表示为长整形。

   

2. bool（布尔）

   * python3中的True和False的值为1和0，可以和数字相加

3. float（浮点数），

4. complex（复数），a + bj，或者complex(a,b)。实部和虚部都是浮点数

在混合运算的时候，python会把整型转换成浮点数

#### 字符串

* pyrhon中单引号和双引号使用完全相同

* 使用三引号（'''或"""）可以指定一个多行字符串

* 转义符'\\'，单反斜杠，使用r可以让反斜杠不发生转义。反斜杠(\)可以作为续行符，表示下一行是上一行的延续。也可以使用 """...""" 或者 '''...''' 跨越多行。

  ```python
  print(r"this is a line with \n")
  ```

* 按字面意义级联字符串，也可以使用 + 或 , 拼接字符串，用 * 运算符重复（后面需要跟数字）

  ```python
  print("this" "is" "string");#中间有没有空格都是直接拼接
  print("this"+"is"+"string");#使用空格拼接字符串， , 的作用和 + 相同
  ```

* python中的字符串有两种索引方式，从左到右以0开始，从右往左以-1开始

* python中的字符串不能改变。与 C 字符串不同的是，Python 字符串不能被改变。向一个索引位置赋值，比如word[0] = 'm'会导致错误。

* 字符串的截取的语法格式如下：变量[头下标:尾下标]，包含头不包含尾

  ```python
  print(str[0:-1])           # 输出第一个到倒数第二个的所有字符
  print(str[0])              # 输出字符串第一个字符
  print(str[2:5])            # 输出从第三个开始到第五个的字符
  print(str[2:])             # 输出从第三个开始的后的所有字符
  print(str * 2)             # 输出字符串两次
  ```

* 十六进制0x

* 浮点数可以使用科学计数法来写，例如1.23e10表示1.23×10^10。整数运算和浮点数在计算机中的存储方式不同，整数运算永远是准确的（除法也是准确的？？？），而浮点数会有四舍五入的误差。

* 如果字符串中有很多字符都需要转义，就需要加入很多\，为了简化，python允许使用r''（双引号也可以）表示内部的字符串默认不转义；如果字符串内部有很多换行，用/n写在一行内不好阅读，为了简化，python允许使用'''...'''的格式表示多行内容（内部的回车符会被转为 \n？？）。多行字符串'''...'''还可以在前面加上r使用，表示不转义的多行字符串。

* python中的布尔值为True，False，注意区分大小写。布尔值的与或非运算符为and，or，not。

* python中的空值是一个特殊的值，用None表示。

* 在python中，等号是赋值语句，可以把任何数据类型赋值给变量，同一个变量可以多次赋值，而且可以是不同类型的变量。像python这种本身类型不固定的语言称为动态语言。对应的是静态语言，静态语言在定义变量的时候必须指定变量类型，赋值时类型不匹配就会报错，比如java就是静态语言。

* python中的常量通常用全部大写的变量名表示，python中没有任何机制保证常量是不会变的。

* python中的整数和浮点数没有大小限制。但是浮点数超过一定范围就会直接表示为inf（无限大）。
#### List（列表）

* 列表是写在方括号里，用逗号隔开的元素列表。
* 和字符串一样，列表也可以被索引和截取，列表被截取后返回一个包含所需元素的新列表。索引值以 0 为开始值，-1 为从末尾的开始位置。
* 加号（+）是列表连接运算符，星号（*）是重复操作。
* 列表的元素是可以改变的

```python
list = [ 'abcd', 786 , 2.23, 'runoob', 70.2 ]
tinylist = [123, 'runoob']

print (list)            # 输出完整列表
print (list[0])         # 输出列表第一个元素
print (list[1:3])       # 从第二个开始输出到第三个元素
print (list[2:])        # 输出从第三个元素开始的所有元素
print (tinylist * 2)    # 输出两次列表
print (list + tinylist) # 连接列表
```

#### Tuple（元组）

元组与列表类似，但元组的元素不能修改，元组写在小括号()里，元素之间用逗号隔开。元组与字符串类似，可以被索引且下标索引从0开始，-1 为从末尾开始的位置。也可以进行截取。元组也可以使用+操作符进行拼接。可以把字符串看成一种特殊的元组。

虽然tuple的元素不可改变，但它可以包含可变的对象，比如list列表。

string、list和tuple都属于sequence（序列）。

```python
tup1 = ()    # 空元组
tup2 = (20,) # 一个元素，需要在元素后添加逗号
```

#### Sets（集合）

集合是一个无序不重复元素的序列。基本功能是进行成员关系测试和删除重复元素。可以使用大括号 { } 或者 set() 函数创建集合，注意：创建一个空集合必须用 set() 而不是 { }，因为 { } 是用来创建一个空字典。

```python
parame = {value01,value02,...}
或者
set(value)

student = {'Tom', 'Jim', 'Mary', 'Tom', 'Jack', 'Rose'}
 
print(student)   # 输出集合，重复的元素被自动去掉
 
# 成员测试
if('Rose' in student) :
    print('Rose 在集合中')
else :
    print('Rose 不在集合中')
 
# set可以进行集合运算
a = set('abracadabra')
b = set('alacazam')
print(a)
print(a - b)     # a和b的差集
print(a | b)     # a和b的并集
print(a & b)     # a和b的交集
print(a ^ b)     # a和b中不同时存在的元素
```

#### Dictionary（字典）

列表是有序的对象集合，字典是无序的对象集合。两者之间的区别在于：字典当中的元素是通过键来存取的，而不是通过偏移存取。

字典是一种映射类型，字典用"{ }"标识，它是一个无序的键(key) : 值(value)对集合。键(key)必须使用不可变类型。在同一个字典中，键(key)必须是唯一的。

创建空字典使用 { }。

```python
dict = {}
dict['one'] = "1 - 菜鸟教程"
dict[2]     = "2 - 菜鸟工具"
 
tinydict = {'name': 'runoob','code':1, 'site': 'www.runoob.com'}

print (dict['one'])       # 输出键为 'one' 的值
print (dict[2])           # 输出键为 2 的值
print (tinydict)          # 输出完整的字典
print (tinydict.keys())   # 输出所有键
print (tinydict.values()) # 输出所有值
```

#### python数据类型转换

| 函数           | 描述                                           |
| -------------- | ---------------------------------------------- |
| int(x [,base]) | 将x转换为一个整数，后面参数为进制，无参时输出0 |
| float(x)|把x转换为浮点数|
| complex(real [,imag]) |创建一个复数|
| str(x) |把对象x转换为字符串|
| repr(x) |把对象x转换为表达式字符串|
| eval(str) |用来计算在字符串中的有效Python表达式,并返回一个对象|
| tuple(s) |将序列 s 转换为一个元组|
| list(s) |将序列 s 转换为一个列表|
| set(s) |转换为可变集合|
| dict(d) |创建一个字典。d 必须是一个序列 (key,value)元组。|
| frozenset(s) |转换为不可变集合|
| chr(x) |将一个整数转换为一个字符|
| ord(x) |将一个字符转换为它的整数值|
| hex(x) |将一个整数转换为一个十六进制字符串|
| oct(x) |将一个整数转换为一个八进制字符串|

## 运算符

#### 算数运算符

假设变量a为10，变量b为21

| 运算符 | 描述                            | 实例                                    |
| ------ | ------------------------------- | --------------------------------------- |
| +      |                                 |                                         |
| -      |                                 |                                         |
| *      |                                 |                                         |
| /      | 除 - 两个整数相除，结果为浮点数 | b / a结果为2.1                          |
| %      | 取模                            | b % a 输出结果 1                        |
| **     | 幂 - 返回x的y次幂               | a**b 为10的21次方                       |
| //     | 取整除 - 返回商的整数部分       | 9//2 输出结果 4 , 9.0//2.0 输出结果 4.0 |

#### 比较运算符

假设变量a为10，变量b为20：

| 运算符 | 描述                                                         | 实例                  |
| ------ | ------------------------------------------------------------ | --------------------- |
| ==     | 等于 - 比较对象是否相等                                      | (a == b) 返回 False。 |
| !=     | 不等于 - 比较两个对象是否不相等                              |                       |
| >      | 大于 - 返回x是否大于y                                        |                       |
| <      | 小于 - 返回x是否小于y。所有比较运算符返回1表示真，返回0表示假。这分别与特殊的变量True和False等价。注意，这些变量名的大写。 |                       |
| \>=    |                                                              |                       |
| <=     |                                                              |                       |

#### 赋值运算符

共8个，包含一个普通赋值运算符和与算数运算符对应的7个赋值运算符。

#### 位运算符

位运算符是把数字看作二进制来进行计算的。

|      |      |      |
| ---- | ---- | ---- |
|      |      |      |
|      |      |      |
|      |      |      |
|      |      |      |
|      |      |      |
|      |      |      |

## 字符串和编码
#### 计算机编码
Unicode和ASCII编码的区别，ASCII编码是一个字节，而Unicode编码通常是两个字节。为了兼容ASCII编码，把Unicode编码转化为“可变长编码”的UTF-8编码。UTF-8编码把一个Unicode字符根据不同的数字大小编码成1-6个字节，常用的英文字母被编码成一个字节，汉字通常是3个字节，只有很生僻的字符才会被编码成4-6个字节，这样可以节省存储空间，提高文件传输效率。  
现在计算机通用的字符编码工作方式：在计算机内存中使用Unicode编码方式，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码。
#### python中的字符串
在最新的python3版本中，字符串是以Unicode编码的，对于单个字符的编码，python提供了```ord()```函数获取字符的整数表示，```chr()```把编码转换成对应的字符。
```
>>> ord('A')
65
>>> ord('中')
20013
>>> chr(66)
'B'
>>> chr(25991)
'文'
```
由于python的字符串在内存中以Unicode表示，一个字符对应若干个字节；若要在网络上传输或者保存到磁盘上，就需要把字符串转成以字节为单位的bytes。  
python对bytes类型的数据用带b前缀的单引号或者双引号表示。```x=b'ABC'。注意区分```'ABC'```和b'ABC'，两者虽然显示一样，但是bytes的每一个字符都只占一个字节。```'中文'```和```b'中文'```显示不同。  
以Unicode表示的字符串可以通过```encode()```方法编码成指定编码的bytes。纯英文的字符串可以通过ASCII编码为bytes，内容一样。含有中文的字符串可以用UTF-8编码成bytes。含有中文的字符串无法使用ASCII编码，python会报错。在bytes中，无法显示为ASCII字符的字节，用```\x##```表示。  
如果在网络或磁盘中读取到了字节流，那么读取到的数据就是bytes。要把bytes变为str，需要用```decode()```方法。如果bytes中包含无法解码的字节，decode()方法会报错。如果bytes中只有一小部分无效的字节，可以传入```error='ifnore'```忽略错误的字节。
```
>>> b'\xe4\xb8\xad\xff'.decode('utf-8', errors='ignore')
'中'
```
**猜测**：当字节的首位为0时，说明这个字节是一个字符的开头，也是上一个字节的结尾。这个节点可以作为解码的分界。  
如果需要计算str包含几个字符，可以使用len()函数；len()函数也可以计算bytes的字节数。
```
>>> len('中文')
2
>>> len('中文'.encode('utf-8'))
6
>>> len(b'\xe4\xb8\xad\xe6\x96\x87')
6
```
在操作字符串时，我们经常遇到str和bytes的互相转换。为了避免乱码问题，应当始终坚持使用UTF-8编码对str和bytes进行转换。  
由于Python源代码也是一个文本文件，所以，当你的源代码中包含中文的时候，在保存源代码时，就需要务必指定保存为UTF-8编码。当Python解释器读取源代码时，为了让它按UTF-8编码读取，我们通常在文件开头写上这两行：
```
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
```
第一行注释是为了告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释；
第二行注释是为了告诉Python解释器，按照UTF-8编码读取源代码，否则，你在源代码中写的中文输出可能会有乱码。
申明了UTF-8编码并不意味着你的.py文件就是UTF-8编码的，必须并且要确保文本编辑器正在使用UTF-8编码。
#### 字符串的格式化
在Python中，采用的格式化方式和C语言是一致的，用%实现。
```
>>> 'Hello, %s' % 'world'
'Hello, world'
```
常用的占位符：

| 占位符 | 替换内容   |
| ------ | ---------- |
| %d     | 整数       |
| %f     | 浮点数     |
| %s     | 字符串     |
| %x     | 十六进制数 |

其中，格式化整数和浮点数还可以指定是否补0和整数与小数的位数。

```
>>> print('%2d-%02d'%(3,1))
3-01
>>> print('%.2f'%3.14159)
3.14
```
有些时候，字符串里面的%是一个普通字符怎么办？这个时候就需要转义，用%%来表示一个%。  
还有一种格式化字符串的方法，使用字符串的```format()```方法。它会用传入的参数依次替换字符串内的占位符{0}、{1}……，这种方法比较麻烦。
```
>>> 'Hello, {0}, 成绩提升了 {1:.1f}%'.format('小明', 17.125)
'Hello, 小明, 成绩提升了 17.1%'
```
## 数据结构
#### list和tuple

## 常用方法

#### 输入输出

1. print

   print输出默认是换行的，如果实现不换行需要在变量末尾加上end=""，引号后的内容会直接跟在后面。

   ```python
   print( x, end=" " );
   print( y, end=" " );
   ```
2.  

## 函数

1. 导入函数

   * 将整个模块导入：```import somemodule```
   * 从某个模块导入某个函数：```from somemodule import somefunction```
   * 从某个模块导入多个函数：```from somemodule import firstfunc, secondfunc```
   * 将某个模块的函数全部导入：```from somemodule import *```

2. ```type()```查询变量所指的对象类型，```isinstance(a, int)```返回布尔值。

   区别：

   * type()不会认为子类是一种父类类型。isinstance()会认为子类是一种父类类型。

3. 
