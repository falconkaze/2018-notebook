# python基本知识

* 命名规则：文件名和文件夹名，小写加下划线。
* python代码区分大小写。
* 变量名必须是大小写英文、数字和"_"的组合，不能用数字开头
## python代码运行
* python两种模式：命令行模式，python交互模式。在命令行下输入python回车，就能进入交互模式，退出命令为exit()。交互模式会把每一行python代码的结果打印出来（不需要print），多用于调试代码或者学习语法命令等。
* python代码有两种运行方式：
```
$ python file_name	这种方式不需要在文件第一行指定解释器（也就是python）
$ chmod a+x file_name	这种方式需要在文件第一行指定解释器（#!/usr/bin/env python3），然后运行./file_name
```
这里文件名后缀不是必要的，linux中的文本后缀是为了方便人们使用，对于程序来说没用。
* python中的双引号和单引号都可以用于表示字符串。
* python中指定编码的方式：
```
# coding:utf-8 或者
# -*- coding:utf-8 -*-
```
## python语法
以#开头的语句是注释；当语句以冒号结尾的时候，缩进的语句被视为代码块。  
缩进的好处，强迫程序员写出格式化的代码，没有规定缩进是几个空格还是tab。按照约定俗成的管理，应该始终坚持使用4个空格的缩进（在文本编辑器中可以把tab自动转换为4个空格，确保不混用tab和空格）。缩进的另一个好处就是强迫我们写出缩进较少的代码，我们会倾向于把一段很长的代码拆分成若干函数，从而得到缩进较少的代码，提高代码的可读性。  
缩进的坏处就是“复制-粘贴”功能失效了，当重构代码的时候，粘贴过去的代码必须重新检查缩进是否正确。此外，IDE很难像格式化java代码那样格式化python代码。
## 数据类型
python支持的数据类型有整数、浮点数、字符串、布尔值、空值、
* 十六进制0x
* 浮点数可以使用科学计数法来写，例如1.23e10表示1.23×10^10。整数运算和浮点数在计算机中的存储方式不同，整数运算永远是准确的（除法也是准确的？？？），而浮点数会有四舍五入的误差。
* 字符串是以'或"括起来的任意文本。如果括号内包含一种引号，可以用另一种引号将字符串括起来。如果字符串中包含两种引号，使用转义字符来标示。
* 如果字符串中有很多字符都需要转义，就需要加入很多\，为了简化，python允许使用r''（双引号也可以）表示内部的字符串默认不转义；如果字符串内部有很多换行，用/n写在一行内不好阅读，为了简化，python允许使用'''...'''的格式表示多行内容（内部的回车符会被转为 \n？？）。多行字符串'''...'''还可以在前面加上r使用，表示不转义的多行字符串。
* python中的布尔值为True，False，注意区分大小写。布尔值的与或非运算符为and，or，not。
* python中的空值是一个特殊的值，用None表示。
* 在python中，等号是赋值语句，可以把任何数据类型赋值给变量，同一个变量可以多次赋值，而且可以是不同类型的变量。像python这种本身类型不固定的语言称为动态语言。对应的是静态语言，静态语言在定义变量的时候必须指定变量类型，赋值时类型不匹配就会报错，比如java就是静态语言。
* python中的常量通常用全部大写的变量名表示，python中没有任何机制保证常量是不会变的。
* python中的整数和浮点数没有大小限制。但是浮点数超过一定范围就会直接表示为inf（无限大）。
## 运算符
python中的运算符有：
* python中有两种除法：/和//。/计算结果是浮点数，即使整除结果也是浮点数；//称为地板除，只取结果的整数部分。python中的余数运算为%。
## 字符串和编码
#### 计算机编码
Unicode和ASCII编码的区别，ASCII编码是一个字节，而Unicode编码通常是两个字节。为了兼容ASCII编码，把Unicode编码转化为“可变长编码”的UTF-8编码。UTF-8编码把一个Unicode字符根据不同的数字大小编码成1-6个字节，常用的英文字母被编码成一个字节，汉字通常是3个字节，只有很生僻的字符才会被编码成4-6个字节，这样可以节省存储空间，提高文件传输效率。  
现在计算机通用的字符编码工作方式：在计算机内存中使用Unicode编码方式，当需要保存到硬盘或者需要传输的时候，就转换为UTF-8编码。
#### python中的字符串
在最新的python3版本中，字符串是以Unicode编码的，对于单个字符的编码，python提供了```ord()```函数获取字符的整数表示，```chr()```把编码转换成对应的字符。
```
>>> ord('A')
65
>>> ord('中')
20013
>>> chr(66)
'B'
>>> chr(25991)
'文'
```
由于python的字符串在内存中以Unicode表示，一个字符对应若干个字节；若要在网络上传输或者保存到磁盘上，就需要把字符串转成以字节为单位的bytes。  
python对bytes类型的数据用带b前缀的单引号或者双引号表示。```x=b'ABC'。注意区分```'ABC'```和b'ABC'，两者虽然显示一样，但是bytes的每一个字符都只占一个字节。```'中文'```和```b'中文'```显示不同。  
以Unicode表示的字符串可以通过```encode()```方法编码成指定编码的bytes。纯英文的字符串可以通过ASCII编码为bytes，内容一样。含有中文的字符串可以用UTF-8编码成bytes。含有中文的字符串无法使用ASCII编码，python会报错。在bytes中，无法显示为ASCII字符的字节，用```\x##```表示。  
如果在网络或磁盘中读取到了字节流，那么读取到的数据就是bytes。要把bytes变为str，需要用```decode()```方法。如果bytes中包含无法解码的字节，decode()方法会报错。如果bytes中只有一小部分无效的字节，可以传入```error='ifnore'```忽略错误的字节。
```
>>> b'\xe4\xb8\xad\xff'.decode('utf-8', errors='ignore')
'中'
```
**猜测**：当字节的首位为0时，说明这个字节是一个字符的开头，也是上一个字节的结尾。这个节点可以作为解码的分界。  
如果需要计算str包含几个字符，可以使用len()函数；len()函数也可以计算bytes的字节数。
```
>>> len('中文')
2
>>> len('中文'.encode('utf-8'))
6
>>> len(b'\xe4\xb8\xad\xe6\x96\x87')
6
```
在操作字符串时，我们经常遇到str和bytes的互相转换。为了避免乱码问题，应当始终坚持使用UTF-8编码对str和bytes进行转换。  
由于Python源代码也是一个文本文件，所以，当你的源代码中包含中文的时候，在保存源代码时，就需要务必指定保存为UTF-8编码。当Python解释器读取源代码时，为了让它按UTF-8编码读取，我们通常在文件开头写上这两行：
```
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
```
第一行注释是为了告诉Linux/OS X系统，这是一个Python可执行程序，Windows系统会忽略这个注释；
第二行注释是为了告诉Python解释器，按照UTF-8编码读取源代码，否则，你在源代码中写的中文输出可能会有乱码。
申明了UTF-8编码并不意味着你的.py文件就是UTF-8编码的，必须并且要确保文本编辑器正在使用UTF-8编码。
#### 字符串的格式化
在Python中，采用的格式化方式和C语言是一致的，用%实现。
```
>>> 'Hello, %s' % 'world'
'Hello, world'
```
常用的占位符：
|占位符		|替换内容	|
|---		|---		|
|%d		|整数		|
|%f		|浮点数		|
|%s		|字符串		|
|%x		|十六进制整数	|  
其中，格式化整数和浮点数还可以指定是否补0和整数与小数的位数。
```
>>> print('%2d-%02d'%(3,1))
3-01
>>> print('%.2f'%3.14159)
3.14
```
有些时候，字符串里面的%是一个普通字符怎么办？这个时候就需要转义，用%%来表示一个%。  
还有一种格式化字符串的方法，使用字符串的```format()```方法。它会用传入的参数依次替换字符串内的占位符{0}、{1}……，这种方法比较麻烦。
```
>>> 'Hello, {0}, 成绩提升了 {1:.1f}%'.format('小明', 17.125)
'Hello, 小明, 成绩提升了 17.1%'
```
## 数据结构
#### list和tuple

