# shell输入输出重定向

* [菜鸟教程](http://www.runoob.com/linux/linux-shell-io-redirections.html)
* [linux shell 中"2>&1"含义](https://www.cnblogs.com/caolisong/archive/2007/04/25/726896.html)

## 基本知识

一般情况下，每个linux命令都会对应三个输入/输出：
* 标准输入文件（stdin）：文件描述符为0，默认为终端输入；
* 标准输出文件（stdout）：文件描述符为1，默认为终端输出；
* 标准错误文件（stderr）：文件描述符为2，默认为终端输出；

重定向的意思就是把命令的输入/输出重定向到指定的输入/输出位置（一般会把输出到终端改为输出到文件）。

重定向有两组操作符：`>`，`>>`，`<`，`<<`：

```shell
> 表示重定向输出，如果输出目标为文件，会覆盖掉之前的内容
>> 表示重定向输出并追加到目标输出
< 表示重定向输入
<<tag 表示将开始标记tag和结束tag之间的内容作为输入
```
重定向符两边最好不要有空格。如果没有指定文件描述符的话，`>`和`>>`默认只重定向sdout（文件描述符为1）。

## 实例

* 重定向标准输出

```shell
cat file1 file2 > file3;   # 合并file1，file2到file3
cat file2 >> file1; # 追加file2到file1末尾，生成的file1与上一条命令的file3相同
```

* 重定向错误信息

```shell
cat aadsf 2> file 
cat adlfkj > file 2>&1 # 将标准输出重定向到file，然后将错误信息重定向到当前标准输出的输入目标。效果是两种信息都输出到文件中，但是标准错误信息在前（持续输出信息的脚本待测试）。
cat adlfk 2>&1 >file # 2>&1标准错误拷贝了标准输出的行为，但此时标准输出还是在终端。>file 后输出才被重定向到file，但标准错误仍然保持在终端。
```
